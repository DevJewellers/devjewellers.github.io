<!doctype HTML>
<head>
	<link href="style.css" rel="stylesheet"/>
	<style>
		body{width:100vw;
			height:100vh;
			display:flex;
		justify-content:center;
		align-items:center;}
		*{font-family:sans-serif;}
		button{
		border:none;
		background-color:blue;
			padding:3px;
			margin:2px;
			border-radius:3px;
			color:white;
		}
		a:hover{color:purple;}
		a{color:indigo;
			text-decoration:none;
		}
	
	</style>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><script src="https://blog.minhazav.dev/assets/research/html5qrcode/html5-qrcode.min.js"></script>
</head>
<body>

<div style="width:500px" id="reader"></div>
	<div id="invoice" style="display:none;">
	
    <!--creating main table-->
        <table id="table">
        <!--first row-->
            <tbody><tr class="up">
            <td class="up" id="logo">
            <img id="img" src="/devjewellers.jpg">
            <p style="font-size:13px;font-family:serif;margin-left:2px;color:maroon;"><b>Prop: Arun Thakur</b></p>
            </td><td class="ip">
              <div id="cat">
                            <p id="hd2">देव ज्वेलर्स</p> 
                <p id="hd">Dev Jewellers</p>
                <p style="transform:translateX(15px);">Main Road, Pratapganj</p>
                <p style="transform:translateX(15px);">Supaul, Bihar, 852125</p>
                
                
            </div>
            </td>
            <td class="up" id="info">
                <p style="font-size:12px;color:red;margin:1px;margin-left:none;transform:translateY(-.45cm)"><b style="color:maroon;">Reg. No:</b>BR36A0013568</p>  
            <img id="phn" src="/whatsapp.png">
              <p>7070888850,<br>9546243333</p>
<p>arunsily@gmail.com</p>
            </td>
            <!--end of first row-->
            </tr>
            <!--second row-->
            <tr>
                <td id="line" colspan"3"=""></td>
                <td id="line"></td>
                <td id="line"></td>
            </tr>
            <!--end of second row-->
            <!--third row-->
                <tr id="scnd"><td id="inn" colspan=""><label for="inno" style="margin-left:3px;">
                <b>Invoice No:</b>
            </label>
            <input type="text" value="" name="inno" disabled id="inno"></td>
            <td id="invic">INVOICE</td>
            <td id="invd"><label for="ind" id="in"><b style="margin-left:5px;">Invoice Date:</b></label><input disabled="" value="" name="ind" id="ind"></td>
            <!--end of third row-->
            </tr>
            <!--fourth row-->
            <tr id="cname" style="border-bottom:2px solid orangered;">
                <td colspan="3"><label for="nam" style="margin-left:3px;"><b>Name:</b></label><input disabled type="text" value="" id="nam" name="nam"></td>
            </tr>
            <tr id="cinfo" style="border-bottom:2px solid orangered;"><td colspan="2"><label for="ad" style="margin-left:3px;"><b>Address:</b></label><input type="text"disabled value="" id="ad" name="ad"></td>
                <td><label for="phone"><b style="margin-left:5px;">Phone No.:</b></label><input type="text"disabled value="" id="phone" name="phone"></td><!--end of fourth row-->
            </tr>
            <!--fifth row-->
            <tr id="ftbl">
                <td id="ntbl" colspan="3">
                    <!--creating a new inner table-->
                    
       <table id="tbl">
        <tbody><tr class="tr" style="border:none;">
            <th style="border:none;" class="th" id="ft" colspan="2"></th>
            <th class="th" colspan="2">Weight in Grams</th>
            <th class="th" colspan="2">Weight in Tola</th>
            <th class="th" id="lt" colspan="4"></th>
        </tr>
            <tr class="tr">
                
                <th class="th" id="ld">Description</th>
                <th class="th">Qty.</th>
                <th class="th">Gold</th>
                <th class="th">silver</th>
                <th class="th">Gold</th>
                <th class="th">silver</th>
                
                <th class="th">Making</th>
            <th class="th">Rate</th>
            <th class="th" id="ah">Amount</th>
            </tr>
            <tr class="tr">
                <td class="td"><input class="dis" disabled list="pdct" id="dis1" type="text" value=""></td>
                <td class="td"><input class="qty" disabled  id="qty1" type="text" value=""></td>
                <td class="td">
                <input class="wt" id="gwt1" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wt" id="swt1" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wtt" disabled="" id="gwtt1" type="text" value=""></td>    
                <td class="td">
                <input class="wtt" disabled="" id="swtt1" type="text" value=""></td>    
                
                <td class="td">
                          <input class="mkg" id="mkg1" disabled  name="mkg" type="text" value="">
                </td>
                <td class="td"><input class="rt" disabled="" id="rt1" type="text" name="rt" value=""></td>
                <td class="td" id="a">
                   
                <input disabled="" name="amt" disabled  class="amt" id="amt1" type="text" value=""></td>
            </tr>
            <tr class="tr">
                <td class="td"><input class="dis" disabled  list="pdct" id="dis2" type="text" value=""></td>
                <td class="td"><input class="qty" disabled  id="qty2" type="text" value=""></td>
               <td class="td">
                <input class="wt" id="gwt2" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wt" id="swt2" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wtt" disabled="" disabled  id="gwtt2" type="text" value=""></td>    
                <td class="td">
                <input class="wtt" disabled="" disabled  id="swtt2" type="text" value=""></td>    
                
                   
                <td class="td">
                          <input class="mkg" id="mkg2"  disabled name="mkg" type="text" value="">
                </td>
               <td class="td"><input class="rt" disabled="" id="rt2" type="text" name="rt" value=""></td>
                <td class="td" id="b">
                   
                <input disabled="" name="amt" class="amt" id="amt2" type="text" value=""></td>
            </tr>
            <tr class="tr">
                <td class="td"><input class="dis"  disabled list="pdct" id="dis3" type="text" value=""></td>
                <td class="td"><input class="qty"  disabled  id="qty3" type="text" value=""></td>
                <td class="td">
                <input class="wt" id="gwt3"  disabled type="text" value=""></td>
                <td class="td">
                <input class="wt" id="swt3" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wtt" disabled="" id="gwtt3" type="text" value=""></td>    
                <td class="td">
                <input class="wtt" disabled="" id="swtt3" type="text" value=""></td>    
                
                  
                <td class="td">
                          <input class="mkg" disabled  id="mkg3" name="mkg" type="text" value="">
                </td>
                <td class="td"><input class="rt" disabled="" id="rt3" type="text" name="rt" value=""></td>
                <td class="td" id="j">
                   
                <input disabled="" name="amt" class="amt" id="amt3" type="text" value=""></td>
                
            </tr>
            <tr class="tr">
                <td class="td"><input class="dis" disabled  list="pdct" id="dis4" type="text" value=""></td>
                <td class="td"><input class="qty" disabled  id="qty4" type="text" value=""></td>
                <td class="td">
                <input class="wt" id="gwt4" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wt" id="swt4" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wtt" disabled="" id="gwtt4" type="text" value=""></td>    
                <td class="td">
                <input class="wtt" disabled="" id="swtt4" type="text;" value=""></td>    
                
                  
                <td class="td">
                          <input class="mkg" disabled  id="mkg4" name="mkg" type="text" value="">
                </td>
                <td class="td"><input class="rt" disabled="" id="rt4" type="text" name="rt" value=""></td>
                <td class="td" id="c">
                   
                <input disabled="" name="amt" class="amt" id="amt4" type="text" value=""></td>
            </tr>
            <tr class="tr">
                <td class="td"><input class="dis" disabled  list="pdct" id="dis5" type="text" value=""></td>
                <td class="td"><input class="qty"  disabled id="qty5" type="text" value=""></td>
                <td class="td">
                <input class="wt" id="gwt5" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wt" id="swt5" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wtt" disabled="" id="gwtt5" type="text" value=""></td>    
                <td class="td">
                <input class="wtt" disabled="" id="swtt5" type="text" value=""></td>    
                
                  
                <td class="td">
                          <input class="mkg" disabled  id="mkg5" name="mkg" type="text" value="">
                </td>
                <td class="td"><input class="rt" disabled="" id="rt5" type="text" name="rt" value=""></td>
                <td class="td" id="d">
                   
                <input disabled="" name="amt" class="amt" id="amt5" type="text" value=""></td>
            </tr>
            <tr class="tr">
                <td class="td"><input class="dis" disabled  list="pdct" id="dis6" type="text" value=""></td>
                <td class="td"><input class="qty"  disabled id="qty6" type="text" value=""></td>
                <td class="td">
                <input class="wt" id="gwt6" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wt" id="swt6" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wtt" disabled="" id="gwtt6" type="text" value=""></td>    
                <td class="td">
                <input class="wtt" disabled="" id="swtt6" type="text" value=""></td>    
                
                  
                <td class="td">
                          <input class="mkg" disabled id="mkg6" name="mkg" type="text" value="">
                </td>
                <td class="td"><input class="rt" disabled="" id="rt6" type="text" name="rt" value=""></td>
                <td class="td" id="e">
                   
                <input disabled="" name="amt" class="amt" id="amt6" type="text" value=""></td>
            </tr>
            <tr class="tr">
                <td class="td"><input class="dis" disabled  list="pdct" id="dis7" type="text" value=""></td>
                <td class="td"><input class="qty"  disabled id="qty7" type="text" value=""></td>
               <td class="td">
                <input class="wt" id="gwt7" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wt" id="swt7" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wtt" disabled="" id="gwtt7" type="text" value=""></td>    
                <td class="td">
                <input class="wtt" disabled="" id="swtt7" type="text" value=""></td>    
                
                   
                <td class="td">
                          <input class="mkg" disabled  id="mkg7" name="mkg" type="text" value="">
                </td>
                <td class="td"><input class="rt" disabled="" id="rt7" type="text" name="rt" value=""></td>
                <td class="td" id="f">
                   
                <input disabled="" name="amt" class="amt" id="amt7" type="text" value=""></td>
            </tr>
            <tr class="tr">
                <td class="td"><input class="dis"  disabled list="pdct" id="dis8" type="text" value=""></td>
                <td class="td"><input class="qty" disabled  id="qty8" type="text" value=""></td>
                <td class="td">
                <input class="wt" id="gwt8"  disabled type="text" value=""></td>
                <td class="td">
                <input class="wt" id="swt8" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wtt" disabled="" id="gwtt8" type="text" value=""></td>    
                <td class="td">
                <input class="wtt" disabled="" id="swtt8" type="text" value=""></td>    
                
                  
                <td class="td">
                          <input class="mkg" disabled  id="mkg8" name="mkg" type="text" value="">
                </td>
                <td class="td"><input class="rt" disabled="" id="rt8" type="text" name="rt" value=""></td>
                <td class="td" id="g">
                   
                <input disabled="" name="amt" class="amt" id="amt8" type="text" value=""></td>
            </tr>
            <tr class="tr">
                <td class="td"><input class="dis"  disabled list="pdct" id="dis9" type="text" value=""></td>
                <td class="td"><input class="qty"  disabled id="qty9" type="text" value=""></td>
                <td class="td">
                <input class="wt" id="gwt9" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wt" id="swt9" disabled  type="text" value=""></td>
                <td class="td">
                <input class="wtt" disabled="" id="gwtt9" type="text" value=""></td>    
                <td class="td">
                <input class="wtt" disabled="" id="swtt9" type="text" value=""></td>    
                
                  
                <td class="td">
                          <input class="mkg" disabled  id="mkg9" name="mkg" type="text" value="">
                </td>
                <td class="td"><input class="rt" disabled="" id="rt9" type="text" name="rt" value=""></td>
                <td class="td" id="h">
                   
                <input disabled="" name="amt" class="amt" id="amt9" type="text" value=""></td>
            </tr>
            <tr style="border:non;" id="lr">
             <td colspan="2" style="border-right:2px solid gold;border-left:none"><input disabled="" class="rt" type="text" id="ttlfw" value="                                     कुल वजन:"></td>
                
                <td style="border-right:2px solid gold;"> <input disabled="" name="amt" class="wt" type="text" id="twtg" value=""></td>
                <td style="border-right:2px solid gold;"> <input disabled="" name="amt" class="wt" type="text" id="twts" value=""></td>
                <td style="border-right:2px solid gold;"> <input disabled="" name="amt" class="wtt" type="text" id="twttg" value=""></td>
                <td style="border-right:2px solid gold;"> <input disabled="" name="amt" class="wtt" type="text" id="twtts" value=""></td>
                <td></td>
                <td class="td"><input disabled="" class="rt" type="text" id="ttl" value=" Total:"></td>
                <td id="go">
                <input disabled="" name="amt" class="amt" type="text" id="tamt" value=""></td>
            </tr>
            <tr class="tr" id="first">
                <td class="td" colspan="1"><span><b>ग्राहक से लिया हुआ<span></span></b></span></td>
                <td class="td" colspan="3"><span><b>वजन(ग्राम)</b><span></span></span></td>
                <td class="td" colspan="2"><span><b>वजन(भरी)</b><span></span></span></td>
                <td class="td" colspan="2"><b></b></td>
                <td style="border-right:none;" class="td" colspan="1"><b></b></td>
            </tr>
            
            <tr class="tr" id="second">
                <td style="text-align:right;" class="td" colspan="1"><span style="margin-right:5px;"><b> सोना</b><span></span></span></td>
                <td class="td" colspan="3"><input class="subwt" disabled  id="subg1" type="text" value=""></td>
                <td class="td" colspan="2"><input class="subwt" disabled="" id="subt1" type="number" value=""></td>
                <td style="text-align:right;" class="td" colspan="2"><span style="margin-right:7px;"><b>कीमत बाद:</b></span></td>
                <td class="td" colspan="1" style="border:2px solid gold;border-right:none;" id="go">
                    
                
                <input disabled="" name="amt" class="amt" type="text" id="subrs1" value=""></td>
            </tr>
            <tr style="border:;" class="tr" id="third">
                <td style="text-align:right;" class="td" colspan="1"><span style="margin-right:5px;"><b>चांदी</b></span></td>
                <td class="td" colspan="3"><input class="subwt"  disabled id="subg2" type="text" value=""></td>
                <td class="td" colspan="2"><input class="subwt" disabled="" id="subt2" type="number" value=""></td>
                <td style="text-align:right;" class="td" colspan="2"><span style="margin-right:7px;"><b>कीमत बाद:</b></span></td>
                <td style="border-right:none;" class="td" colspan="1">
                    
                <input disabled="" name="amt" class="amt" type="text" id="subrs2" value=""></td>
            </tr>
            
            <tr style="border:none;" class="tr">
            <td style="border-top:none;border-bottom:none;" class="td" colspan="2"></td>
            <td class="td" id="fln" colspan="4" style="border-bottom:none;"><input disabled="" id="spt" class="dis" value=" चांदी रेट प्रति किलो:"><label>Rs.</label>
                <input name="spt"  disabled class="dis" type="text" id="sptv" value=""></td>
                 <td style="border:2px solid gold" colspan="2" class="td"><input disabled="" class="rt" type="text" id="dn" value="       Discount:"></td>
                <td style="border:2px solid gold;border-right:none;" id="go">        <input name="amt"  disabled class="amt" type="text" id="tds" value=""></td>
            </tr>
            
              <tr class="tr" style="border:none;">
              <td class="td" style="border-top:none;border-bottom:none;" colspan="2"></td>
            <td style="border:2px solid gold" class="td" id="fln" colspan="4&quot;"><input disabled="" id="gpt" class="dis" value=" सोना रेट प्रति 10 ग्राम:"><label>Rs.</label>
                <input name="gpt"  disabled class="dis" type="text" id="gptv" value=""></td>  
                <td style="border:2px solid gold" colspan="2" class="td"><input disabled="" class="rt" type="text" id="sttln" value="      Sub Total:"></td>
                <td style="border:2px solid gold;border-right:none;" id="go">        <input disabled="" name="amt" class="amt" type="text" id="sttl" value=""></td>
            </tr>
            
        </tbody></table>
       
                </td>
                <!--end of fifth row-->
            </tr>
            <tr id="t&amp;c">
                <td id="tc" colspan="3"><p style="font-size:6px; background-color:; color:maroon;margin-left:7px;margin:4px;"> नियम एवं शर्तें*</p></td>
                    
               
            </tr>
            <tr>
                <td colspan="3" id="li" style="transform:translatey(-5px)">
                 <p class="rules"><b id="b">1. </b>स्वर्ण आभूषण का गारंटी (10 ग्राम में 750 मिलीग्राम रसायन और 200 मिलीग्राम जर्ती कटेगा भरी में 14 आना)।</p> 
                 <p class="rules" style="transform:translate(6cm,-.5px)"><b id="b">2. </b>स्वर्ण आभूषण हॉल मार्क का गारंटी 90%, मजदूरी पत्थर का दम वापस नहीं होगा।</p>
                  <p style="transform:translatey(-12px)" class="rules"><b id="b">3. </b>चाँदी आभूषण का गारंटी हाथ का बना 80% (भरी में 14 आना)।</p>
                 <p style="transform:translate(6cm,-12px)" class="rules"><b id="b">4. </b>चाँदी आभूषण (रेडीमेड) का गारंटी 75% (भरी में 12 आना)।</p>
                
                 <p style="transform:translatey(-24px)" class="rules"><b id="b">5. </b>जेवर का बेयाना देने पर भाव मात्र 1 महीना का मान्य होगा।</p>
                  <p style="transform:translate(6cm,-24px)" class="rules"><b id="b">6. </b>बेयाना वापस मांगने पर मजदूरी काट कर रुपया वापस होगा।</p>
                   <p style="transform:translatey(-36px)" class="rules"><b id="b">7. </b>जेवर का काला होना अशुद्धता का प्रतीक नहीं है।</p>
                </td>
            </tr>
            <tr id="sin">
                <td style="padding:0px;&quot;"><p style="margin:0px;padding:0px;float:left;margin-top:0px;
transform:translateY(-.4cm);margin-left:7px;width:2.8cm;"><b>Customer Sign.:</b></p><br></td>
                <td></td>
                <td id="sign"><p><b>Signature:</b></p><p style="font-size:11px;">Product Given</p><p></p>      <div id="scol"></div>
                </td>
            </tr>
            
        </tbody></table>
<p style="font-size:10px;float:left;margin-left:5px;">© Dev Jewellers</p>
		<div id="btns">
			<button class="button" onclick="function(){window.print();}">Print</button>
			<button class="button" style="width:3.5cm;background-color:blue;" onclick="scanOther()">Scan Another Qr</button>
		</div>
	</div>
		<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-app.js"></script>

		<script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-database.js"></script>
							   
<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyCUxrHCbYxcEmiCy56gHzOgbP2c8RVrCAY",
    authDomain: "dev-jewellers-invoice.firebaseapp.com",
    databaseURL: "https://dev-jewellers-invoice.firebaseio.com",
    projectId: "dev-jewellers-invoice",
    storageBucket: "dev-jewellers-invoice.appspot.com",
    messagingSenderId: "678678089968",
    appId: "1:678678089968:web:bc23a7c1975237ce14f235",
    measurementId: "G-Y4KEB1LNVM"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
 
var database = firebase.database();
	</script>
<script>
	
	function scanOther(){
		document.body.alignItems="center"
	document.getElementById("reader").style.display="block";
		document.getElementById("invoice").style.display="none"
	
	}
function onScanSuccess(qrCodeMessage) {
	// handle on success condition with the decoded message
}

var html5QrcodeScanner = new Html5QrcodeScanner(
	"reader", { fps: 10, qrbox: 250 });
html5QrcodeScanner.render(onScanSuccess);
var html5QrcodeScanner = new Html5QrcodeScanner(
    "reader", { fps: 10, qrbox: 250 });
        
function onScanSuccess(qrCodeMessage) {
    // handle on success condition with the decoded message
	document.getElementById("reader").style.display="none";
console.log(qrCodeMessage);
	var invoiceNumber=Number(qrCodeMessage.replace("DEV-JEWELLERS-",""))
						       
 firebase.database().ref('customers/'+invoiceNumber).on('value', function(snapshot){
 console.log("Invoice Retrived!") ;
	 get_data(snapshot.val);
	  document.getElementById("invoice").style.display="block"
	 document.body.style.alignItems="initial"
 })
    html5QrcodeScanner.clear();
    // ^ this will stop the scanner (video feed) and clear the scan area.
}

html5QrcodeScanner.render(onScanSuccess);
function onScanSuccess(qrCodeMessage) {
	document.getElementById("reader").style.display="none";
console.log(qrCodeMessage);
	var invoiceNumber=Number(qrCodeMessage.replace("DEV-JEWELLERS-",""))
		console.log(invoiceNumber)				       
 firebase.database().ref('customers/'+invoiceNumber).on('value', function(snapshot){
	 console.log(snapshot.val())
 console.log("Invoice Retrived!") ;
	 get_data(snapshot.val());
	 	 document.body.style.alignItems="initial"
	 document.getElementById("invoice").style.display="block"
	 
 })
    // handle on success condition with the decoded message
}

function onScanError(errorMessage) {
    // handle on error condition, with error message

}

var html5QrcodeScanner = new Html5QrcodeScanner(
    "reader", { fps: 10, qrbox: 250 });
html5QrcodeScanner.render(onScanSuccess, onScanError);
</script>

	<script>
	document.getElementsByTagName("span")[0].innerHTML="Dev Jewellers Qr"
	document.getElementsByTagName("span")[1].borderRadius="3px"
		document.getElementsByTagName("button")[0].addEventListener('click',function (){  
		setTimeout(function(){
		var cmras=document.getElementById("reader__camera_selection").options
		if(cmras.length>1){
		cmras[1].selected=true;
		
		}
		},2000);
		})
		 window.addEventListener("beforeprint", function() { document.getElementById("btns").style.display="none"});					  
			
	</script>
	<script src="script.js"></script>
</body>
